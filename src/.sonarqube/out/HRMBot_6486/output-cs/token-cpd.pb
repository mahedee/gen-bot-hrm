ﬂ
QD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\App_Start\WebApiConfig.cs
	namespace 	
HRMBot
 
{		 
public

 

static

 
class

 
WebApiConfig

 $
{ 
public 
static 
void 
Register #
(# $
HttpConfiguration$ 5
config6 <
)< =
{ 	
config 
. 

Formatters 
. 
JsonFormatter +
.+ ,
SerializerSettings, >
.> ?
NullValueHandling? P
=Q R
NullValueHandlingS d
.d e
Ignoree k
;k l
config 
. 

Formatters 
. 
JsonFormatter +
.+ ,
SerializerSettings, >
.> ?
ContractResolver? O
=P Q
newR U2
&CamelCasePropertyNamesContractResolverV |
(| }
)} ~
;~ 
config 
. 

Formatters 
. 
JsonFormatter +
.+ ,
SerializerSettings, >
.> ?

Formatting? I
=J K

FormattingL V
.V W
IndentedW _
;_ `
JsonConvert 
. 
DefaultSettings '
=( )
(* +
)+ ,
=>- /
new0 3"
JsonSerializerSettings4 J
(J K
)K L
{ 
ContractResolver  
=! "
new# &2
&CamelCasePropertyNamesContractResolver' M
(M N
)N O
,O P

Formatting 
= 

Newtonsoft '
.' (
Json( ,
., -

Formatting- 7
.7 8
Indented8 @
,@ A
NullValueHandling !
=" #
NullValueHandling$ 5
.5 6
Ignore6 <
,< =
} 
; 
config 
. "
MapHttpAttributeRoutes )
() *
)* +
;+ ,
config 
. 
Routes 
. 
MapHttpRoute &
(& '
name 
: 
$str "
," #
routeTemplate   
:   
$str   6
,  6 7
defaults!! 
:!! 
new!! 
{!! 
id!!  "
=!!# $
RouteParameter!!% 3
.!!3 4
Optional!!4 <
}!!= >
)"" 
;"" 
}## 	
}$$ 
}%% ˘ 
YD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Controllers\MessagesController.cs
	namespace		 	
HRMBot		
 
{

 
[ 
BotAuthentication 
] 
public 

class 
MessagesController #
:$ %
ApiController& 3
{ 
public 
async 
Task 
< 
HttpResponseMessage -
>- .
Post/ 3
(3 4
[4 5
FromBody5 =
]= >
Activity> F
activityG O
)O P
{ 	
if 
( 
activity 
. 
Type 
==  
ActivityTypes! .
.. /
Message/ 6
)6 7
{ 
ConnectorClient 
	connector  )
=* +
new, /
ConnectorClient0 ?
(? @
new@ C
UriD G
(G H
activityH P
.P Q

ServiceUrlQ [
)[ \
)\ ]
;] ^
if 
( 
activity 
. 
Attachments (
.( )
Count) .
>/ 0
$num1 2
)2 3
{ 
} 
else 
{ 
Activity!! 
typeing!! $
=!!% &
activity!!' /
.!!/ 0
CreateReply!!0 ;
(!!; <
)!!< =
;!!= >
typeing"" 
."" 
Type""  
=""! "
ActivityTypes""# 0
.""0 1
Typing""1 7
;""7 8
await$$ 
	connector$$ #
.$$# $
Conversations$$$ 1
.$$1 2 
ReplyToActivityAsync$$2 F
($$F G
typeing$$G N
)$$N O
;$$O P
var&& 
userData&&  
=&&! "
activity&&# +
.&&+ ,
From&&, 0
.&&0 1
Name&&1 5
;&&5 6
await(( 
Conversation(( &
.((& '
	SendAsync((' 0
(((0 1
activity((1 9
,((9 :
(((; <
)((< =
=>((> @
new((A D
Dialogs((E L
.((L M
RootLuisDialog((M [
((([ \
userData((\ d
)((d e
)((e f
;((f g
}** 
}++ 
else,, 
{-- 
HandleSystemMessage.. #
(..# $
activity..$ ,
).., -
;..- .
}// 
var00 
response00 
=00 
Request00 "
.00" #
CreateResponse00# 1
(001 2
HttpStatusCode002 @
.00@ A
OK00A C
)00C D
;00D E
return11 
response11 
;11 
}22 	
private44 
Activity44 
HandleSystemMessage44 ,
(44, -
Activity44- 5
message446 =
)44= >
{55 	
if66 
(66 
message66 
.66 
Type66 
==66 
ActivityTypes66  -
.66- .
DeleteUserData66. <
)66< =
{77 
}:: 
else;; 
if;; 
(;; 
message;; 
.;; 
Type;; !
==;;" $
ActivityTypes;;% 2
.;;2 3
ConversationUpdate;;3 E
);;E F
{<< 
}@@ 
elseAA 
ifAA 
(AA 
messageAA 
.AA 
TypeAA !
==AA" $
ActivityTypesAA% 2
.AA2 3!
ContactRelationUpdateAA3 H
)AAH I
{BB 
}EE 
elseFF 
ifFF 
(FF 
messageFF 
.FF 
TypeFF !
==FF" $
ActivityTypesFF% 2
.FF2 3
TypingFF3 9
)FF9 :
{GG 
}II 
elseJJ 
ifJJ 
(JJ 
messageJJ 
.JJ 
TypeJJ !
==JJ" $
ActivityTypesJJ% 2
.JJ2 3
PingJJ3 7
)JJ7 8
{KK 
}LL 
returnNN 
nullNN 
;NN 
}OO 	
}PP 
}QQ Í
ND:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\AboutPerson.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str !
)! "
]" #
public 
async 
Task 
AboutPerson %
(% &
IDialogContext& 4
context5 <
,< =

LuisResult> H
resultI O
)O P
{ 	
var 
name 
= 
result 
. 
GetResolvedEntity /
(/ 0
$str0 8
)8 9
;9 :
name 
= 
name 
? 
. 
ToLower  
(  !
)! "
??# %
$str& (
;( )
string 
message 
; 
using 
( 
var 
personRepository &
=' (
new) ,
PersonRepository- =
(= >
)> ?
)? @
{ 
message 
= 
personRepository *
.* + 
GetPersonInformation+ ?
(? @
name@ D
)D E
;E F
} 
await 
context 
. 
	PostAsync #
(# $
message$ +
)+ ,
;, -
context 
. 
Wait 
( 
this 
. 
MessageReceived -
)- .
;. /
}   	
}"" 
}## ò
\D:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\ConfirmMobileNumberDialog.cs
	namespace

 	
HRMBot


 
.

 
Dialogs

 
{ 
[ 
Serializable 
] 
public 

class %
ConfirmMobileNumberDialog *
:+ ,
IDialog- 4
<4 5
bool5 9
>9 :
{ 
private 
int 
	_attempts 
= 
$num  !
;! "
public 
async 
Task 

StartAsync $
($ %
IDialogContext% 3
context4 ;
); <
{ 	
await 
context 
. 
	PostAsync #
(# $
$str$ d
)d e
;e f
context 
. 
Wait 
( 
this 
.  
MessageReceivedAsync 2
)2 3
;3 4
} 	
private 
async 
Task  
MessageReceivedAsync /
(/ 0
IDialogContext0 >
context? F
,F G

IAwaitableH R
<R S
IMessageActivityS c
>c d
resulte k
)k l
{ 	
var 
confirmCode 
= 
await #
result$ *
;* +
var 
repo 
= 
new "
UserRegisterRepository 1
(1 2
)2 3
;3 4
var 
success 
= 
await 
repo  $
.$ %
VarifyOtpAsync% 3
(3 4
context4 ;
.; <
Activity< D
.D E
FromE I
.I J
IdJ L
,L M
confirmCodeN Y
.Y Z
TextZ ^
)^ _
;_ `
if 
( 
success 
) 
{   
context!! 
.!! 
Done!! 
(!! 
true!! !
)!!! "
;!!" #
}"" 
else## 
{$$ 
--%% 
	_attempts%% 
;%% 
if&& 
(&& 
confirmCode&& 
.&&  
Text&&  $
.&&$ %
ToLower&&% ,
(&&, -
)&&- .
.&&. /
Equals&&/ 5
(&&5 6
$str&&6 >
)&&> ?
||&&@ B
confirmCode&&C N
.&&N O
Text&&O S
.&&S T
ToLower&&T [
(&&[ \
)&&\ ]
.&&] ^
Equals&&^ d
(&&d e
$str&&e k
)&&k l
)&&l m
{'' 
context(( 
.(( 
Fail((  
(((  !
new((! $&
OperationCanceledException((% ?
(((? @
$str((@ B
)((B C
)((C D
;((D E
})) 
else** 
if** 
(** 
	_attempts** "
>**# $
$num**% &
)**& '
{++ 
await,, 
context,, !
.,,! "
	PostAsync,," +
(,,+ ,
$str,,, }
),,} ~
;,,~ 
context.. 
... 
Wait..  
(..  !
this..! %
...% & 
MessageReceivedAsync..& :
)..: ;
;..; <
}// 
else00 
{11 
context22 
.22 
Fail22  
(22  !
new22! $$
TooManyAttemptsException22% =
(22= >
$str22> \
)22\ ]
)22] ^
;22^ _
}33 
}44 
}66 	
}77 
}88 è
LD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\FunDialog.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str 
) 
] 
public 
async 
Task 
Jokes 
(  
IDialogContext  .
context/ 6
,6 7

LuisResult8 B
resultC I
)I J
{ 	
List 
< 
String 
> 
messagePoll $
=% &
new' *
List+ /
</ 0
string0 6
>6 7
{ 
$str &
,& '
$str 8
,8 9
$str 
,  
$str 8
} 
; 
string 

preMessage 
= 
messagePoll  +
.+ ,
OrderBy, 3
(3 4
s4 5
=>6 8
Guid9 =
.= >
NewGuid> E
(E F
)F G
)G H
.H I
FirstI N
(N O
)O P
;P Q
await 
context 
. 
	PostAsync #
(# $

preMessage$ .
). /
;/ 0
var 
typingMessage 
= 
context  '
.' (
MakeMessage( 3
(3 4
)4 5
;5 6
typingMessage   
.   
Type   
=    
ActivityTypes  ! .
.  . /
Typing  / 5
;  5 6
await!! 
context!! 
.!! 
	PostAsync!! #
(!!# $
typingMessage!!$ 1
)!!1 2
;!!2 3
string%% 
message%% 
=%% 
await%% "
DadJokeService%%# 1
.%%1 2
GetJoke%%2 9
(%%9 :
)%%: ;
;%%; <
await&& 
context&& 
.&& 
	PostAsync&& #
(&&# $
message&&$ +
)&&+ ,
;&&, -
context++ 
.++ 
Wait++ 
(++ 
this++ 
.++ 
MessageReceived++ -
)++- .
;++. /
},, 	
}-- 
}.. É
QD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\GreetingDialog.cs
	namespace		 	
HRMBot		
 
.		 
Dialogs		 
{

 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str 
)  
]  !
public 
async 
Task 
	Greetings #
(# $
IDialogContext$ 2
context3 :
,: ;

LuisResult< F
resultG M
)M N
{ 	
List 
< 
String 
> 
messagePoll $
=% &
new' *
List+ /
</ 0
string0 6
>6 7
{ 
$str 
, 
$str 
, 
$str 
, 
$str 
+ 
userData #
,# $
$str 
+ 
userData  
} 
; 
string 
message 
= 
messagePoll (
.( )
OrderBy) 0
(0 1
s1 2
=>3 5
Guid6 :
.: ;
NewGuid; B
(B C
)C D
)D E
.E F
FirstF K
(K L
)L M
+N O
$strP t
;t u
await 
context 
. 
	PostAsync #
(# $
message$ +
)+ ,
;, -
context 
. 
Wait 
( 
this 
. 
MessageReceived -
)- .
;. /
} 	
} 
} ó
RD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\JoingDateDialog.cs
	namespace		 	
HRMBot		
 
.		 
Dialogs		 
{

 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str !
)! "
]" #
public 
async 
Task 
JoiningDate %
(% &
IDialogContext& 4
context5 <
,< =

LuisResult> H
resultI O
)O P
{ 	
List 
< 
String 
> 
messagePoll $
=% &
new' *
List+ /
</ 0
string0 6
>6 7
{ 
$str 1
,1 2
$str 0
,0 1
$str L
} 
; 
string 
message 
= 
messagePoll (
.( )
OrderBy) 0
(0 1
s1 2
=>3 5
Guid6 :
.: ;
NewGuid; B
(B C
)C D
)D E
.E F
FirstF K
(K L
)L M
;M N
message 
= 
String 
. 
Format #
(# $
message$ +
,+ ,
$str- ?
)? @
;@ A
await 
context 
. 
	PostAsync #
(# $
message$ +
)+ ,
;, -
context 
. 
Wait 
( 
this 
. 
MessageReceived -
)- .
;. /
} 	
} 
} ¯
UD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\MobileNumberDialog.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
[ 
Serializable 
] 
public		 

class		 
MobileNumberDialog		 #
:		$ %
IDialog		& -
<		- .
int		. 1
>		1 2
{

 
private 
int 
	_attempts 
= 
$num  !
;! "
public 
async 
Task 

StartAsync $
($ %
IDialogContext% 3
context4 ;
); <
{ 	
await 
context 
. 
	PostAsync #
(# $
$str$ {
){ |
;| }
context 
. 
Wait 
(  
MessageReceivedAsync -
)- .
;. /
} 	
private 
async 
Task  
MessageReceivedAsync /
(/ 0
IDialogContext0 >
context? F
,F G

IAwaitableH R
<R S
IMessageActivityS c
>c d
resulte k
)k l
{ 	
var 
message 
= 
await 
result  &
;& '
int 
mobileNumber 
; 
if 
( 
int 
. 
TryParse 
( 
message $
.$ %
Text% )
,) *
out+ .
mobileNumber/ ;
); <
&&= ?
(@ A
mobileNumberA M
.M N
ToStringN V
(V W
)W X
.X Y
LengthY _
==` b
$numc e
)e f
)f g
{ 
context 
. 
Done 
( 
mobileNumber )
)) *
;* +
} 
else 
{ 
-- 
	_attempts 
; 
if   
(   
message   
.   
Text    
.    !
ToLower  ! (
(  ( )
)  ) *
.  * +
Equals  + 1
(  1 2
$str  2 :
)  : ;
||  < >
message  ? F
.  F G
Text  G K
.  K L
ToLower  L S
(  S T
)  T U
.  U V
Equals  V \
(  \ ]
$str  ] c
)  c d
)  d e
{!! 
context"" 
."" 
Fail""  
(""  !
new""! $&
OperationCanceledException""% ?
(""? @
$str""@ B
)""B C
)""C D
;""D E
}## 
else$$ 
if$$ 
($$ 
	_attempts$$ "
>$$# $
$num$$% &
)$$& '
{%% 
await&& 
context&& !
.&&! "
	PostAsync&&" +
(&&+ ,
$str	&&, à
)
&&à â
;
&&â ä
context(( 
.(( 
Wait((  
(((  ! 
MessageReceivedAsync((! 5
)((5 6
;((6 7
})) 
else** 
{++ 
context,, 
.,, 
Fail,,  
(,,  !
new,,! $$
TooManyAttemptsException,,% =
(,,= >
$str,,> f
),,f g
),,g h
;,,h i
}-- 
}.. 
}// 	
}00 
}11 ı
UD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\NegativeRateDialog.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str $
)$ %
]% &
public 
async 
Task 
NegativeRating (
(( )
IDialogContext) 7
context8 ?
,? @

LuisResultA K
resultL R
)R S
{ 	
List 
< 
String 
> 
messagePoll $
=% &
new' *
List+ /
</ 0
string0 6
>6 7
{ 
$str ^
,^ _
$str &
,& '
$str ;
} 
; 
string 
message 
= 
messagePoll (
.( )
OrderBy) 0
(0 1
s1 2
=>3 5
Guid6 :
.: ;
NewGuid; B
(B C
)C D
)D E
.E F
FirstF K
(K L
)L M
;M N
message 
+= 
$str 
+ 
StaticMessage *
.* +
	AboutDemo+ 4
;4 5
await 
context 
. 
	PostAsync #
(# $
message$ +
)+ ,
;, -
context 
. 
Wait 
( 
this 
. 
MessageReceived -
)- .
;. /
} 	
} 
} €
QD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\PositiveRating.cs
	namespace		 	
HRMBot		
 
.		 
Dialogs		 
{

 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str $
)$ %
]% &
public 
async 
Task 
PositiveRating (
(( )
IDialogContext) 7
context8 ?
,? @

LuisResultA K
resultL R
)R S
{ 	
List 
< 
String 
> 
messagePoll $
=% &
new' *
List+ /
</ 0
string0 6
>6 7
{ 
$str 1
,1 2
$str 
, 
$str "
} 
; 
string 
message 
= 
messagePoll (
.( )
OrderBy) 0
(0 1
s1 2
=>3 5
Guid6 :
.: ;
NewGuid; B
(B C
)C D
)D E
.E F
FirstF K
(K L
)L M
;M N
await 
context 
. 
	PostAsync #
(# $
message$ +
)+ ,
;, -
context 
. 
Wait 
( 
this 
. 
MessageReceived -
)- .
;. /
} 	
} 
} Ä=
OD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\RegisterUser.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str "
)" #
]# $
public 
async 
Task 
RegisterUser &
(& '
IDialogContext' 5
context6 =
,= >

LuisResult? I
resultJ P
)P Q
{ 	
var 
repo 
= 
new "
UserRegisterRepository 1
(1 2
)2 3
;3 4
var 
registerdMobile 
=  !
await" '
repo( ,
., -"
isAlreadyVerifiedAsync- C
(C D
contextD K
.K L
ActivityL T
.T U
FromU Y
.Y Z
IdZ \
)\ ]
;] ^
if 
( 
registerdMobile 
!=  "
null# '
)' (
{ 
await 
context 
. 
	PostAsync '
(' (
$"( *9
-You have already verified your mobile number * W
{W X
registerdMobileX g
}g h
"h i
)i j
;j k
context 
. 
Wait 
( 
this !
.! "
MessageReceived" 1
)1 2
;2 3
} 
else 
{   
context!! 
.!! 
Call!! 
(!! 
new!!  
MobileNumberDialog!!! 3
(!!3 4
)!!4 5
,!!5 6(
PhoneNumberDialogResumeAfter!!7 S
)!!S T
;!!T U
}"" 
}%% 	
private'' 
async'' 
Task'' (
PhoneNumberDialogResumeAfter'' 7
(''7 8
IDialogContext''8 F
context''G N
,''N O

IAwaitable''P Z
<''Z [
int''[ ^
>''^ _
result''` f
)''f g
{(( 	
try)) 
{** 
var++ 
mobileNumber++  
=++! "
await++# (
result++) /
;++/ 0
var// 
repo// 
=// 
new// "
UserRegisterRepository// 5
(//5 6
)//6 7
;//7 8
var00 
otp00 
=00 
await00 
repo00  $
.00$ % 
GenerateOtpCodeAsync00% 9
(009 :
context00: A
.00A B
Activity00B J
.00J K
From00K O
.00O P
Id00P R
,00R S
mobileNumber00T `
.00` a
ToString00a i
(00i j
$str00j o
)00o p
,00p q
context00r y
.00y z
Activity	00z Ç
.
00Ç É
From
00É á
.
00á à
Name
00à å
)
00å ç
;
00ç é
string33 
message33 
=33  
$"33! #5
)Your verification code for the HRMBot is 33# L
{33L M
otp33M P
}33P Q
"33Q R
;33R S
IMessageProvider44  
provider44! )
=44* +
new44, /
Sms440 3
(443 4
)444 5
;445 6
var55 
success55 
=55 
await55 #
provider55$ ,
.55, -
	SendAsync55- 6
(556 7
mobileNumber557 C
.55C D
ToString55D L
(55L M
$str55M R
)55R S
,55S T
message55U \
)55\ ]
;55] ^
if77 
(77 
!77 
success77 
)77 
{88 
await99 
context99 !
.99! "
	PostAsync99" +
(99+ ,
$str99, m
)99m n
;99n o
context:: 
.:: 
Wait::  
(::  !
MessageReceived::! 0
)::0 1
;::1 2
};; 
else<< 
{== 
context?? 
.?? 
Call??  
(??  !
new??! $%
ConfirmMobileNumberDialog??% >
(??> ?
)??? @
,??@ A*
ConfirmMobileNumberResumeAfter??B `
)??` a
;??a b
}@@ 
}AA 
catchBB 
(BB $
TooManyAttemptsExceptionBB +
)BB+ ,
{CC 
awaitDD 
contextDD 
.DD 
	PostAsyncDD '
(DD' (
$strDD( j
)DDj k
;DDk l
contextEE 
.EE 
WaitEE 
(EE 
MessageReceivedEE ,
)EE, -
;EE- .
}FF 
catchGG 
(GG &
OperationCanceledExceptionGG -
)GG- .
{HH 
awaitII 
contextII 
.II 
	PostAsyncII '
(II' (
$strII( [
)II[ \
;II\ ]
contextJJ 
.JJ 
WaitJJ 
(JJ 
MessageReceivedJJ ,
)JJ, -
;JJ- .
}KK 
catchLL 
(LL 
	ExceptionLL 
eLL 
)LL 
{MM 
awaitNN 
contextNN 
.NN 
	PostAsyncNN '
(NN' (
eNN( )
.NN) *
MessageNN* 1
)NN1 2
;NN2 3
}OO 
}QQ 	
privateSS 
asyncSS 
TaskSS *
ConfirmMobileNumberResumeAfterSS 9
(SS9 :
IDialogContextSS: H
contextSSI P
,SSP Q

IAwaitableSSR \
<SS\ ]
boolSS] a
>SSa b
resultSSc i
)SSi j
{TT 	
tryUU 
{VV 
varWW 
successWW 
=WW 
awaitWW #
resultWW$ *
;WW* +
ifXX 
(XX 
successXX 
)XX 
{YY 
awaitZZ 
contextZZ !
.ZZ! "
	PostAsyncZZ" +
(ZZ+ ,
$strZZ, q
)ZZq r
;ZZr s
}[[ 
else\\ 
{]] 
await^^ 
context^^ !
.^^! "
	PostAsync^^" +
(^^+ ,
$str^^, s
)^^s t
;^^t u
}__ 
context`` 
.`` 
Wait`` 
(`` 
MessageReceived`` ,
)``, -
;``- .
}bb 
catchcc 
(cc $
TooManyAttemptsExceptioncc +
)cc+ ,
{dd 
awaitee 
contextee 
.ee 
	PostAsyncee '
(ee' (
$stree( o
)eeo p
;eep q
contextff 
.ff 
Waitff 
(ff 
MessageReceivedff ,
)ff, -
;ff- .
}gg 
catchhh 
(hh &
OperationCanceledExceptionhh -
)hh- .
{ii 
awaitjj 
contextjj 
.jj 
	PostAsyncjj '
(jj' (
$strjj( [
)jj[ \
;jj\ ]
contextkk 
.kk 
Waitkk 
(kk 
MessageReceivedkk ,
)kk, -
;kk- .
}ll 
catchmm 
(mm 
	Exceptionmm 
emm 
)mm 
{nn 
awaitoo 
contextoo 
.oo 
	PostAsyncoo '
(oo' (
eoo( )
.oo) *
Messageoo* 1
)oo1 2
;oo2 3
contextpp 
.pp 
Waitpp 
(pp 
MessageReceivedpp ,
)pp, -
;pp- .
}qq 
}ss 	
}tt 
}uu —F
QD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\RootLuisDialog.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
[ 
	LuisModel 
( 
$str 5
,5 6
$str7 Y
,Y Z
domain[ a
:a b
$str	c á
)
á à
]
à â
[ 
Serializable 
] 
public 

partial 
class 
RootLuisDialog '
:( )

LuisDialog* 4
<4 5
object5 ;
>; <
{ 
private 
string 
userData 
;  
public 
RootLuisDialog 
( 
string $
userData% -
)- .
{ 	
this 
. 
userData 
= 
userData $
;$ %
} 	
[ 	

LuisIntent	 
( 
$str $
)$ %
]% &
public 
async 
Task 
AvailableLeave (
(( )
IDialogContext) 7
context8 ?
,? @

LuisResultA K
resultL R
)R S
{ 	
string 
message 
= 
$str B
;B C
switch 
( 
result 
. !
GetResolvedListEntity /
(/ 0
$str0 ;
); <
)< =
{   
case!! 
$str!!  
:!!  !
message"" 
="" 
String"" $
.""$ %
Format""% +
(""+ ,
message"", 3
,""3 4
$num""5 7
,""7 8
$str""9 F
)""F G
;""G H
break## 
;## 
case%% 
$str%% "
:%%" #
message&& 
=&& 
String&& $
.&&$ %
Format&&% +
(&&+ ,
message&&, 3
,&&3 4
$num&&5 7
,&&7 8
$str&&9 H
)&&H I
;&&I J
break'' 
;'' 
case)) 
$str)) "
:))" #
message** 
=** 
String** $
.**$ %
Format**% +
(**+ ,
message**, 3
,**3 4
$num**5 6
,**6 7
$str**8 F
)**F G
;**G H
break++ 
;++ 
default-- 
:-- 
message.. 
=.. 
String.. $
...$ %
Format..% +
(..+ ,
message.., 3
,..3 4
$num..5 7
,..7 8
$str..9 G
)..G H
;..H I
break// 
;// 
}00 
await44 
context44 
.44 
	PostAsync44 #
(44# $
message44$ +
)44+ ,
;44, -
context55 
.55 
Wait55 
(55 
this55 
.55 
MessageReceived55 -
)55- .
;55. /
}88 	
[:: 	

LuisIntent::	 
(:: 
$str:: 
):: 
]:: 
[;; 	

LuisIntent;;	 
(;; 
$str;; 
);; 
];; 
public<< 
async<< 
Task<< 
None<< 
(<< 
IDialogContext<< -
context<<. 5
,<<5 6

LuisResult<<7 A
result<<B H
)<<H I
{== 	
string>> 
message>> 
=>> 
$">> ;
/Sorry, I don‚Äôt have answer of this question. >> L
">>L M
+>>N O
$"?? 4
(I am an artificial intelligence system. ?? :
"??: ;
+??< =
$"@@ !
I am still learning. @@ '
"@@' (
;@@( )
messageAA 
+=AA 
StaticMessageAA $
.AA$ %
	AboutDemoAA% .
;AA. /
awaitBB 
contextBB 
.BB 
	PostAsyncBB #
(BB# $
messageBB$ +
)BB+ ,
;BB, -
contextCC 
.CC 
WaitCC 
(CC 
thisCC 
.CC 
MessageReceivedCC -
)CC- .
;CC. /
}DD 	
[FF 	

LuisIntentFF	 
(FF 
$strFF "
)FF" #
]FF# $
publicGG 
asyncGG 
TaskGG 
AvailedLeaveGG &
(GG& '
IDialogContextGG' 5
contextGG6 =
,GG= >

LuisResultGG? I
resultGGJ P
)GGP Q
{HH 	
stringII 
messageII 
=II 
$strII E
;IIE F
switchKK 
(KK 
resultKK 
.KK !
GetResolvedListEntityKK /
(KK/ 0
$strKK0 ;
)KK; <
)KK< =
{LL 
caseMM 
$strMM  
:MM  !
messageNN 
=NN 
StringNN $
.NN$ %
FormatNN% +
(NN+ ,
messageNN, 3
,NN3 4
$numNN5 6
,NN6 7
$strNN8 E
)NNE F
;NNF G
breakOO 
;OO 
caseQQ 
$strQQ "
:QQ" #
messageRR 
=RR 
StringRR $
.RR$ %
FormatRR% +
(RR+ ,
messageRR, 3
,RR3 4
$numRR5 7
,RR7 8
$strRR9 H
)RRH I
;RRI J
breakSS 
;SS 
caseUU 
$strUU "
:UU" #
messageVV 
=VV 
StringVV $
.VV$ %
FormatVV% +
(VV+ ,
messageVV, 3
,VV3 4
$numVV5 6
,VV6 7
$strVV8 G
)VVG H
;VVH I
breakWW 
;WW 
caseYY 
$strYY &
:YY& '
messageZZ 
=ZZ 
StringZZ $
.ZZ$ %
FormatZZ% +
(ZZ+ ,
messageZZ, 3
,ZZ3 4
$numZZ5 6
,ZZ6 7
$strZZ8 K
)ZZK L
;ZZL M
break[[ 
;[[ 
default]] 
:]] 
message^^ 
=^^ 
String^^ $
.^^$ %
Format^^% +
(^^+ ,
message^^, 3
,^^3 4
$num^^5 7
,^^7 8
$str^^9 G
)^^G H
;^^H I
break__ 
;__ 
}`` 
awaitdd 
contextdd 
.dd 
	PostAsyncdd #
(dd# $
messagedd$ +
)dd+ ,
;dd, -
contextee 
.ee 
Waitee 
(ee 
thisee 
.ee 
MessageReceivedee -
)ee- .
;ee. /
}ff 	
[ii 	

LuisIntentii	 
(ii 
$strii #
)ii# $
]ii$ %
publicjj 
asyncjj 
Taskjj 
EntitledLeavejj '
(jj' (
IDialogContextjj( 6
contextjj7 >
,jj> ?

LuisResultjj@ J
resultjjK Q
)jjQ R
{kk 	
stringll 
messagell 
=ll 
$strll Q
;llQ R
switchnn 
(nn 
resultnn 
.nn !
GetResolvedListEntitynn 0
(nn0 1
$strnn1 <
)nn< =
)nn= >
{oo 
casepp 
$strpp  
:pp  !
messageqq 
=qq 
Stringqq $
.qq$ %
Formatqq% +
(qq+ ,
messageqq, 3
,qq3 4
$numqq5 7
,qq7 8
$strqq9 F
)qqF G
;qqG H
breakrr 
;rr 
casett 
$strtt "
:tt" #
messageuu 
=uu 
Stringuu $
.uu$ %
Formatuu% +
(uu+ ,
messageuu, 3
,uu3 4
$numuu5 7
,uu7 8
$struu9 H
)uuH I
;uuI J
breakvv 
;vv 
casexx 
$strxx "
:xx" #
messageyy 
=yy 
Stringyy $
.yy$ %
Formatyy% +
(yy+ ,
messageyy, 3
,yy3 4
$numyy5 7
,yy7 8
$stryy9 H
)yyH I
;yyI J
breakzz 
;zz 
default|| 
:|| 
message}} 
=}} 
String}} $
.}}$ %
Format}}% +
(}}+ ,
message}}, 3
,}}3 4
$num}}5 7
,}}7 8
$str}}9 G
)}}G H
;}}H I
break~~ 
;~~ 
} 
await
ÅÅ 
context
ÅÅ 
.
ÅÅ 
	PostAsync
ÅÅ #
(
ÅÅ# $
message
ÅÅ$ +
)
ÅÅ+ ,
;
ÅÅ, -
context
ÇÇ 
.
ÇÇ 
Wait
ÇÇ 
(
ÇÇ 
this
ÇÇ 
.
ÇÇ 
MessageReceived
ÇÇ -
)
ÇÇ- .
;
ÇÇ. /
}
ÉÉ 	
}
ÖÖ 
}ÜÜ ˇ
PD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\StaticMessage.cs
	namespace 	
HRMBot
 
. 
Dialogs 
{ 
public 

class 
StaticMessage 
{		 
public

 
static

 
string

 
	AboutDemo

 &
{

' (
get

( +
;

+ ,
set

- 0
;

0 1
}

1 2
static 
StaticMessage 
( 
) 
{ 	
	AboutDemo 
= 
$str	 Ä
;
Ä Å
} 	
} 
} Ó
JD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Dialogs\WhatsUp.cs
	namespace		 	
HRMBot		
 
.		 
Dialogs		 
{

 
public 

partial 
class 
RootLuisDialog '
{ 
[ 	

LuisIntent	 
( 
$str 
) 
] 
public 
async 
Task 
WhatsUp !
(! "
IDialogContext" 0
context1 8
,8 9

LuisResult: D
resultE K
)K L
{ 	
List 
< 
String 
> 
messagePoll $
=% &
new' *
List+ /
</ 0
string0 6
>6 7
{ 
$str 
, 
$str 
, 
$str 
} 
; 
string 
message 
= 
messagePoll (
.( )
OrderBy) 0
(0 1
s1 2
=>3 5
Guid6 :
.: ;
NewGuid; B
(B C
)C D
)D E
.E F
FirstF K
(K L
)L M
+N O
$strP g
;g h
await 
context 
. 
	PostAsync #
(# $
message$ +
)+ ,
;, -
context 
. 
Wait 
( 
this 
. 
MessageReceived -
)- .
;. /
} 	
} 
} Ó
ZD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Extensions\LuisResultExtensions.cs
	namespace 	
HRMBot
 
. 

Extensions 
{		 
public

 

static

 
class

  
LuisResultExtensions

 ,
{ 
public 
static 
String !
GetResolvedListEntity 2
(2 3
this3 7

LuisResult8 B
resultC I
,I J
StringK Q
nameOfListEntityR b
)b c
{ 	 
EntityRecommendation  %
leaveEntityRecommendation! :
;: ;
if 
( 
result 
. 
TryFindEntity $
($ %
$str% 0
,0 1
out2 5%
leaveEntityRecommendation6 O
)O P
)P Q
{ 
var 
msg 
= %
leaveEntityRecommendation 3
.3 4

Resolution4 >
.> ?
FirstOrDefault? M
(M N
)N O
.O P
ValueP U
asV X

NewtonsoftY c
.c d
Jsond h
.h i
Linqi m
.m n
JArrayn t
;t u
return 
msg 
. 
First  
.  !
ToString! )
() *
)* +
;+ ,
} 
return 
null 
; 
} 	
public 
static 
String 
GetResolvedEntity .
(. /
this/ 3

LuisResult4 >
result? E
,E F
StringG M
nameOfEntityN Z
)Z [
{ 	 
EntityRecommendation  %
leaveEntityRecommendation! :
;: ;
if 
( 
result 
. 
TryFindEntity $
($ %
nameOfEntity% 1
,1 2
out3 6%
leaveEntityRecommendation7 P
)P Q
)Q R
{ 
var 
msg 
= %
leaveEntityRecommendation 3
.3 4
Entity4 :
;: ;
return   
msg   
;   
}!! 
return## 
null## 
;## 
}$$ 	
}%% 
}&& ï
FD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Global.asax.cs
	namespace 	
HRMBot
 
{		 
public

 

class

 
WebApiApplication

 "
:

# $
System

% +
.

+ ,
Web

, /
.

/ 0
HttpApplication

0 ?
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
GlobalConfiguration 
.  
	Configure  )
() *
WebApiConfig* 6
.6 7
Register7 ?
)? @
;@ A
} 	
} 
} —
JD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Models\DadJokes.cs
	namespace 	
HRMBot
 
. 
Models 
{ 
public 

class 
DadJoke 
{		 
public

 
string

 
id

 
{

 
get

 
;

 
set

  #
;

# $
}

% &
public 
string 
joke 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
status 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ˝
RD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str !
)! "
]" #
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str #
)# $
]$ %
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *“
RD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Services\DadJokeService.cs
	namespace 	
HRMBot
 
. 
Services 
{ 
public 

static 
class 
DadJokeService &
{ 
public 
static 
async 
Task  
<  !
string! '
>' (
GetJoke) 0
(0 1
)1 2
{ 	
const 
string 
apiUrl 
=  !
$str" ?
;? @
using 
( 
var 
client 
= 
new  #

HttpClient$ .
(. /
)/ 0
)0 1
{ 
client 
. !
DefaultRequestHeaders ,
. 
Accept 
. 
Add 
( 
new +
MediaTypeWithQualityHeaderValue <
(< =
$str= O
)O P
)P Q
;Q R
HttpResponseMessage #
response$ ,
=- .
await/ 4
client5 ;
.; <
GetAsync< D
(D E
apiUrlE K
)K L
;L M
if 
( 
response 
. 
IsSuccessStatusCode /
)/ 0
{ 
string 
result !
=" #
await$ )
response* 2
.2 3
Content3 :
.: ;
ReadAsStringAsync; L
(L M
)M N
;N O
var 

rootResult "
=# $
JsonConvert% 0
.0 1
DeserializeObject1 B
<B C
DadJokeC J
>J K
(K L
resultL R
)R S
;S T
return 

rootResult %
.% &
joke& *
;* +
}   
else   
{!! 
return"" 
null"" 
;""  
}## 
}$$ 
}%% 	
}&& 
}'' ë
TD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Services\IMessageProvider.cs
	namespace 	
HRMBot
 
. 
Services 
{ 
public		 

	interface		 
IMessageProvider		 %
{

 
Task 
< 
bool 
> 
	SendAsync 
( 
string #
mobileNumber$ 0
,0 1
string2 8
message9 @
)@ A
;A B
} 
} î
GD:\Codes\Projects\Others\Mahedee\gen-bot-hrm\src\HRMBot\Services\Sms.cs
	namespace 	
HRMBot
 
. 
Services 
{ 
public		 

class		 
Sms		 
:		 
IMessageProvider		 '
{

 
public 
async 
Task 
< 
bool 
> 
	SendAsync  )
() *
string* 0
mobileNumber1 =
,= >
string? E
messageF M
)M N
{ 	
const 
string 
apiUrl 
=  !
$str" M
;M N
using 
( 
var 
client 
= 
new  #

HttpClient$ .
(. /
)/ 0
)0 1
{ 
client 
. !
DefaultRequestHeaders ,
. 
Accept 
. 
Add 
( 
new +
MediaTypeWithQualityHeaderValue <
(< =
$str= O
)O P
)P Q
;Q R
var 
email 
= 
Environment '
.' ("
GetEnvironmentVariable( >
(> ?
$str? W
)W X
;X Y
var 
password 
= 
Environment *
.* +"
GetEnvironmentVariable+ A
(A B
$strB b
)b c
;c d
var 
device 
= 
Environment (
.( )"
GetEnvironmentVariable) ?
(? @
$str@ ^
)^ _
;_ `
var 
content 
= 
new !!
FormUrlEncodedContent" 7
(7 8
new8 ;
[; <
]< =
{ 
new 
KeyValuePair $
<$ %
string% +
,+ ,
string- 3
>3 4
(4 5
$str5 <
,< =
email> C
)C D
,D E
new 
KeyValuePair $
<$ %
string% +
,+ ,
string- 3
>3 4
(4 5
$str5 ?
,? @
passwordA I
)I J
,J K
new 
KeyValuePair $
<$ %
string% +
,+ ,
string- 3
>3 4
(4 5
$str5 =
,= >
device? E
)E F
,F G
new 
KeyValuePair $
<$ %
string% +
,+ ,
string- 3
>3 4
(4 5
$str5 =
,= >
mobileNumber? K
)K L
,L M
new   
KeyValuePair   $
<  $ %
string  % +
,  + ,
string  - 3
>  3 4
(  4 5
$str  5 >
,  > ?
message  @ G
)  G H
}!! 
)!! 
;!! 
HttpResponseMessage## #
response##$ ,
=##- .
await##/ 4
client##5 ;
.##; <
	PostAsync##< E
(##E F
apiUrl##F L
,##L M
content##N U
)##U V
;##V W
return$$ 
response$$ 
.$$  
IsSuccessStatusCode$$  3
;$$3 4
}%% 
}&& 	
}'' 
}(( 